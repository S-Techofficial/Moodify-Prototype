{"version":3,"sources":["components/SearchResult.js"],"names":["entities","Entities","require","XmlEntities","liVariants","open","y","opacity","transition","stiffness","velocity","closed","ulVariants","staggerChildren","delayChildren","staggerDirection","SearchResult","videos","useCycle","isOpen","setisOpen","useContext","GlobalContext","dispatch","handleClick","video","data","id","videoId","title","decode","snippet","channelTitle","maxThumbnail","sdThumbnail","type","React","useEffect","setTimeout","console","log","renderResult","map","div","variants","alignItems","button","onClick","className","style","width","height","marginRight","alt","src","thumbnails","high","url","primary","secondary","component","variant","color","initial","animate"],"mappings":"yOAmBMA,EAAW,IAAIC,EAFJC,EAAQ,KAAiBC,aAIpCC,EAAa,CACjBC,KAAM,CACJC,EAAG,EACHC,QAAS,EACTC,WAAY,CACVF,EAAG,CAAEG,UAAW,IAAMC,UAAW,OAGrCC,OAAQ,CACNL,EAAG,GACHC,QAAS,EACTC,WAAY,CACVF,EAAG,CAAEG,UAAW,QAKhBG,EAAa,CACjBP,KAAM,CACJG,WAAY,CAAEK,gBAAiB,IAAMC,cAAe,KAEtDH,OAAQ,CACNH,WAAY,CAAEK,gBAAiB,IAAME,kBAAmB,KAiF7CC,UA7EM,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAAa,EACPC,aAAS,GAAO,GADT,mBAC5BC,EAD4B,KACpBC,EADoB,OAGZC,qBAAWC,KAHC,yCAGxBC,EAHwB,KAQ7BC,EAAc,SAAAC,GAJW,IAAAC,IAMN,CACrBC,GAAIF,EAAME,GAAGC,QACbC,MAAO7B,EAAS8B,OAAOL,EAAMM,QAAQF,OACrCG,aAAchC,EAAS8B,OAAOL,EAAMM,QAAQC,cAC5CC,aAAa,8BAAD,OAAgCR,EAAME,GAAGC,QAAzC,sBACZM,YAAY,8BAAD,OAAgCT,EAAME,GAAGC,QAAzC,mBAVbL,EAAS,CAAEY,KAAM,yBAA0BJ,QAASL,KAetDU,IAAMC,WAAU,WACdC,YAAW,cAAU,KACrBC,QAAQC,IAAI,eAAgBrB,GAC5BC,GAAU,KACT,IAEH,IAAMqB,EAAexB,EAAOyB,KAAI,SAAAjB,GAAU,IAChCM,EAAYN,EAAZM,QAER,OADAQ,QAAQC,IAAI,uBAEV,eAAC,IAAOG,IAAR,CAAYC,SAAUxC,EAAtB,UACE,eAAC,IAAD,CACEyC,WAAW,aACXC,QAAM,EACNC,QAAS,kBAAMvB,EAAYC,IAH7B,UAOE,cAAC,IAAD,UACE,cAAC,IAAD,CACEuB,UAAU,cACVC,MAAO,CAAEC,MAAO,OAAQC,OAAQ,OAAQC,YAAa,QACrDC,IAAKtB,EAAQF,MACbyB,IAAKvB,EAAQwB,WAAWC,KAAKC,QAGjC,cAAC,IAAD,CACEC,QAAS1D,EAAS8B,OAAOC,EAAQF,OACjC8B,UACE,mCACE,cAAC,IAAD,CACEC,UAAU,OACVC,QAAQ,QACRC,MAAM,cAHR,SAKG/B,EAAQC,sBAMnB,cAAC,IAAD,MA/BqCP,EAAME,GAAGC,YAoCpD,OACE,cAAC,IAAOe,IAAR,CACEC,SAAUhC,EACVmD,SAAS,EACTC,QAAS7C,EAAS,OAAS,SAH7B,SAKGsB","file":"static/js/5.230ac0de.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\nimport { motion, useCycle } from \"framer-motion\";\nimport { Link } from \"react-router-dom\";\n\nimport { GlobalContext } from \"./GlobalState\";\n\nimport youtubeSearch from \"../apis/youtubeSearch\";\nimport \"../style.css\";\nimport {\n  ListItem,\n  Typography,\n  ListItemAvatar,\n  Avatar,\n  Divider,\n  ListItemText\n} from \"@material-ui/core\";\n\nconst Entities = require(\"html-entities\").XmlEntities;\n\nconst entities = new Entities();\n\nconst liVariants = {\n  open: {\n    y: 0,\n    opacity: 1,\n    transition: {\n      y: { stiffness: 1000, velocity: -100 }\n    }\n  },\n  closed: {\n    y: 50,\n    opacity: 0,\n    transition: {\n      y: { stiffness: 1000 }\n    }\n  }\n};\n\nconst ulVariants = {\n  open: {\n    transition: { staggerChildren: 0.07, delayChildren: 0.2 }\n  },\n  closed: {\n    transition: { staggerChildren: 0.05, staggerDirection: -1 }\n  }\n};\n\nconst SearchResult = ({ videos }) => {\n  const [isOpen, setisOpen] = useCycle(false, true);\n\n  const [{}, dispatch] = useContext(GlobalContext);\n  const setCurrentVideoSnippet = data => {\n    dispatch({ type: \"setCurrentVideoSnippet\", snippet: data });\n  };\n\n  const handleClick = video => {\n    // set all the info of current clicked video in this object\n    setCurrentVideoSnippet({\n      id: video.id.videoId,\n      title: entities.decode(video.snippet.title),\n      channelTitle: entities.decode(video.snippet.channelTitle),\n      maxThumbnail: `https://img.youtube.com/vi/${video.id.videoId}/maxresdefault.jpg`,\n      sdThumbnail: `https://img.youtube.com/vi/${video.id.videoId}/sddefault.jpg`\n      // this is the url of the max resolution of thumbnail\n    });\n  };\n\n  React.useEffect(() => {\n    setTimeout(() => {}, 100);\n    console.log(\"isopen cycle\", isOpen);\n    setisOpen(true);\n  }, []);\n\n  const renderResult = videos.map(video => {\n    const { snippet } = video;\n    console.log(\"render result times\");\n    return (\n      <motion.div variants={liVariants} key={video.id.videoId}>\n        <ListItem\n          alignItems=\"flex-start\"\n          button\n          onClick={() => handleClick(video)}\n          // component={Link}\n          // to={{pathname: \"/play\", search:`?id=${video.id.videoId}`}}\n        >\n          <ListItemAvatar>\n            <Avatar\n              className=\"searchThumb\"\n              style={{ width: \"60px\", height: \"60px\", marginRight: \"15px\" }}\n              alt={snippet.title}\n              src={snippet.thumbnails.high.url}\n            />\n          </ListItemAvatar>\n          <ListItemText\n            primary={entities.decode(snippet.title)}\n            secondary={\n              <>\n                <Typography\n                  component=\"span\"\n                  variant=\"body2\"\n                  color=\"textPrimary\"\n                >\n                  {snippet.channelTitle}\n                </Typography>\n              </>\n            }\n          />\n        </ListItem>\n        <Divider />\n      </motion.div>\n    );\n  });\n\n  return (\n    <motion.div\n      variants={ulVariants}\n      initial={false}\n      animate={isOpen ? \"open\" : \"closed\"}\n    >\n      {renderResult}\n    </motion.div>\n  );\n};\n\nexport default SearchResult;\n"],"sourceRoot":""}